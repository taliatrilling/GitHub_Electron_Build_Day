<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <title>Hello World!</title>
  </head>
  <body>
    <div class="container-fluid">
    <h1>Look at my super cool loot!</h1>
    We are using node <script>document.write(process.versions.node)</script>,
    Chrome <script>document.write(process.versions.chrome)</script>,
    and Electron <script>document.write(process.versions.electron)</script>.

    <h2>Items:<br></h2>
    <div id="data" class="container"></div>

    <script>
      "use strict";
      const {shell} = require('electron');
      var $ = require('jQuery');
      var Promise = require('promise');
      var steamUserInventory = require('steam-user-inventory');
      $('#data').html('');
      steamUserInventory('76561198061838289', '440/2/').then(data => {
          for (var i=0; i < data.length; i++) {
            var item = data[i]['name'];
            var link = data[i]['link'];
            // console.log(item);
            // console.log(link);
            $('#data').append("<h3> <a class='itemlink' href='" + link + "'>" + item + "</a></h3><br>");
          }
          $('#data').append('</div>');
      }).catch(error => {
        console.error(error);
      });
      $(document).on('click', '.itemlink', function(event) {
        event.preventDefault();
        var href = $(this).attr('href');
        shell.openExternal(href);
      });
    </script>
  </div>
  </body>

</html>
